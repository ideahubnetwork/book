# 查询性能优化

## 基本原则：优化数据访问

当查询性能低下的时候，从两个方面入手

1. Application 是否获取了冗余的数据
2. mysql server 是否分析了冗余的行

### 是否向服务器请求了不需要的数据？

查询冗余数据不仅对数据库服务器造成了负担，而且增加了网络的开销，有以下几种错误

+ 获取超过需要的行
+ 多表连接时提取所有列

+ 提取所有的列

select * 会造成覆盖索引这样的优化手段失效

### 

## 查询执行基础知识

### 查询优化过程

+ 解析器

把 sql 分解成一个个 `token`，然后构造 `Parse Tree`。

+ 预处理器

预处理器检查解析器生成的 Parese Tree，并检查权限。

+ 查询优化器

解析树通过验证后，优化器会把它变成执行计划。

优化器使用的是基于开销的优化器，开销的单位是对大小为4KB的页面的读取次数。

优化可以分为静态优化和动态优化，有以下优化类型

  + 对连接中的表重新排序
  + 外联接转化为内联接
  + 代数优化
